@import "tailwindcss";

/* Global page background and typography */
html,
body,
#__next {
  height: 100%;
}

body {
  background-color: #030303; /* base black */
  background-image: 
    /* Animated diagonal lines */ repeating-linear-gradient(
      45deg,
      transparent,
      transparent 100px,
      rgba(148, 163, 184, 0.03) 100px,
      rgba(148, 163, 184, 0.03) 101px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 100px,
      rgba(148, 163, 184, 0.02) 100px,
      rgba(148, 163, 184, 0.02) 101px
    );
  background-size: 200% 200%;
  animation: backgroundShift 20s ease-in-out infinite;
  color: #e6eef8; /* approximate tailwind text-slate-100 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Background animation keyframes */
@keyframes backgroundShift {
  0%,
  100% {
    background-position: 0% 0%;
  }
  50% {
    background-position: 100% 100%;
  }
}
/* Offset content for fixed header incl. safe-area */
body {
  padding-top: calc(var(--header-h) + env(safe-area-inset-top));
}

/* Respect reduced motion preferences for background animation */
@media (prefers-reduced-motion: reduce) {
  body {
    animation: none !important;
    background-position: 0% 0%;
  }
}

/* Smooth anchor scrolling for in-page nav */
html {
  scroll-behavior: smooth;
}

/* Header slide-down animation */
@keyframes slide-down {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(0);
  }
}
.animate-slide-down {
  animation: slide-down 0.5s ease-out;
}
@media (prefers-reduced-motion: reduce) {
  .animate-slide-down {
    animation: none;
  }
}

/* Small SVG stroke animations used across sections */
.animate-draw {
  stroke-dasharray: 200;
  stroke-dashoffset: 200;
  animation: draw 2s forwards ease-out;
}
@keyframes draw {
  to {
    stroke-dashoffset: 0;
  }
}
.stroke-flow {
  stroke-dasharray: 12 8;
  animation: flow 6s linear infinite;
}
@keyframes flow {
  to {
    stroke-dashoffset: -200;
  }
}
@media (prefers-reduced-motion: reduce) {
  .animate-draw,
  .stroke-flow {
    animation: none !important;
  }
}

/* Viewport section sizing: one section per screen accounting for sticky header */
:root {
  --header-h: 64px; /* base */
}
@media (min-width: 768px) {
  :root {
    --header-h: 72px; /* md */
  }
}
@media (min-width: 1024px) {
  :root {
    --header-h: 80px; /* lg */
  }
}

/* Ensure anchor jumps don't hide content under sticky header */
section[id] {
  scroll-margin-top: var(--header-h);
}
